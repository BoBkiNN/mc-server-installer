{
  "$defs": {
    "AllFilesSelector": {
      "properties": {
        "type": {
          "const": "all",
          "enum": [
            "all"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "title": "AllFilesSelector",
      "type": "object"
    },
    "Channel": {
      "enum": [
        "ALPHA",
        "BETA",
        "STABLE",
        "RECOMMENDED"
      ],
      "title": "Channel",
      "type": "string"
    },
    "CustomManifest": {
      "properties": {
        "provider": {
          "$ref": "#/$defs/RegistryUnion__providers",
          "title": "Provider"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "title": "Asset Id"
        },
        "version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Version"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "discriminator": {
              "mapping": {
                "dummy": "#/$defs/DummyAction",
                "rename": "#/$defs/RenameFile",
                "unzip": "#/$defs/UnzipFile"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/DummyAction"
              },
              {
                "$ref": "#/$defs/RenameFile"
              },
              {
                "$ref": "#/$defs/UnzipFile"
              }
            ]
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "description": "File name to use. Generated by provider if not set",
          "format": "path",
          "title": "Folder",
          "type": "string"
        }
      },
      "required": [
        "provider",
        "asset_id",
        "folder"
      ],
      "title": "CustomManifest",
      "type": "object"
    },
    "DatapackManifest": {
      "properties": {
        "provider": {
          "$ref": "#/$defs/RegistryUnion__providers",
          "title": "Provider"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "version": {
          "title": "Version",
          "type": "string"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "discriminator": {
              "mapping": {
                "dummy": "#/$defs/DummyAction",
                "rename": "#/$defs/RenameFile",
                "unzip": "#/$defs/UnzipFile"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/DummyAction"
              },
              {
                "$ref": "#/$defs/RenameFile"
              },
              {
                "$ref": "#/$defs/UnzipFile"
              }
            ]
          },
          "title": "Actions",
          "type": "array"
        }
      },
      "required": [
        "provider",
        "version"
      ],
      "title": "DatapackManifest",
      "type": "object"
    },
    "DirectUrlProvider": {
      "description": "Downloads asset from specified url",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selectors"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selectors"
            }
          ],
          "default": "all",
          "description": "Selector used to choose files from multiple",
          "title": "File Selector"
        },
        "url": {
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Url",
          "type": "string"
        },
        "file_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "File Name"
        },
        "type": {
          "const": "url",
          "enum": [
            "url"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "url",
        "type"
      ],
      "title": "DirectUrlProvider",
      "type": "object"
    },
    "DummyAction": {
      "properties": {
        "name": {
          "default": "",
          "title": "Name",
          "type": "string"
        },
        "if": {
          "default": "",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "dummy",
          "enum": [
            "dummy"
          ],
          "title": "Type",
          "type": "string"
        },
        "expr": {
          "title": "Expr",
          "type": "string"
        }
      },
      "required": [
        "type",
        "expr"
      ],
      "title": "DummyAction",
      "type": "object"
    },
    "GithubActionsProvider": {
      "description": "Downloads artifact from github actions",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selectors"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selectors"
            }
          ],
          "default": "simple-jar",
          "title": "File Selector"
        },
        "repository": {
          "title": "Repository",
          "type": "string"
        },
        "branch": {
          "default": "master",
          "title": "Branch",
          "type": "string"
        },
        "workflow": {
          "title": "Workflow",
          "type": "string"
        },
        "name_pattern": {
          "anyOf": [
            {
              "format": "regex",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "RegEx for artifact name. All artifacts is downloaded if not set",
          "title": "Name Pattern"
        },
        "type": {
          "const": "github-actions",
          "enum": [
            "github-actions"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "repository",
        "workflow",
        "type"
      ],
      "title": "GithubActionsProvider",
      "type": "object"
    },
    "GithubReleasesProvider": {
      "description": "Downloads asset from github",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selectors"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selectors"
            }
          ],
          "default": "simple-jar",
          "title": "File Selector"
        },
        "repository": {
          "title": "Repository",
          "type": "string"
        },
        "type": {
          "const": "github",
          "enum": [
            "github"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "repository",
        "type"
      ],
      "title": "GithubReleasesProvider",
      "type": "object"
    },
    "JenkinsProvider": {
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selectors"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selectors"
            }
          ],
          "default": "simple-jar",
          "title": "File Selector"
        },
        "url": {
          "description": "URL to Jenkins instance",
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Url",
          "type": "string"
        },
        "job": {
          "description": "Name of job",
          "title": "Job",
          "type": "string"
        },
        "type": {
          "const": "jenkins",
          "enum": [
            "jenkins"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "url",
        "job",
        "type"
      ],
      "title": "JenkinsProvider",
      "type": "object"
    },
    "ModManifest": {
      "properties": {
        "provider": {
          "$ref": "#/$defs/RegistryUnion__providers",
          "title": "Provider"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "version": {
          "title": "Version",
          "type": "string"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "discriminator": {
              "mapping": {
                "dummy": "#/$defs/DummyAction",
                "rename": "#/$defs/RenameFile",
                "unzip": "#/$defs/UnzipFile"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/DummyAction"
              },
              {
                "$ref": "#/$defs/RenameFile"
              },
              {
                "$ref": "#/$defs/UnzipFile"
              }
            ]
          },
          "title": "Actions",
          "type": "array"
        }
      },
      "required": [
        "provider",
        "version"
      ],
      "title": "ModManifest",
      "type": "object"
    },
    "ModrinthProvider": {
      "description": "Downloads asset from modrinth",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selectors"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selectors"
            }
          ],
          "default": "all",
          "description": "Selector used to choose files from multiple",
          "title": "File Selector"
        },
        "project_id": {
          "title": "Project Id",
          "type": "string"
        },
        "channel": {
          "anyOf": [
            {
              "$ref": "#/$defs/VersionType"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "If not set, then channel is ignored"
        },
        "version_is_id": {
          "default": false,
          "description": "If true, than version is consumed as version id",
          "title": "Version Is Id",
          "type": "boolean"
        },
        "version_name_pattern": {
          "anyOf": [
            {
              "format": "regex",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "RegEx for version name",
          "title": "Version Name Pattern"
        },
        "ignore_game_version": {
          "default": false,
          "title": "Ignore Game Version",
          "type": "boolean"
        },
        "type": {
          "const": "modrinth",
          "enum": [
            "modrinth"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "project_id",
        "type"
      ],
      "title": "ModrinthProvider",
      "type": "object"
    },
    "PaperCoreManifest": {
      "properties": {
        "file_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "File Name"
        },
        "type": {
          "const": "paper",
          "enum": [
            "paper"
          ],
          "title": "Type",
          "type": "string"
        },
        "build": {
          "anyOf": [
            {
              "$ref": "#/$defs/PaperLatestBuild"
            },
            {
              "type": "integer"
            }
          ],
          "title": "Build"
        },
        "channels": {
          "default": [],
          "items": {
            "$ref": "#/$defs/Channel"
          },
          "title": "Channels",
          "type": "array"
        }
      },
      "required": [
        "type",
        "build"
      ],
      "title": "PaperCoreManifest",
      "type": "object"
    },
    "PaperLatestBuild": {
      "enum": [
        "latest",
        "latest_stable"
      ],
      "title": "PaperLatestBuild",
      "type": "string"
    },
    "PluginManifest": {
      "properties": {
        "provider": {
          "$ref": "#/$defs/RegistryUnion__providers",
          "title": "Provider"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "version": {
          "title": "Version",
          "type": "string"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "discriminator": {
              "mapping": {
                "dummy": "#/$defs/DummyAction",
                "rename": "#/$defs/RenameFile",
                "unzip": "#/$defs/UnzipFile"
              },
              "propertyName": "type"
            },
            "oneOf": [
              {
                "$ref": "#/$defs/DummyAction"
              },
              {
                "$ref": "#/$defs/RenameFile"
              },
              {
                "$ref": "#/$defs/UnzipFile"
              }
            ]
          },
          "title": "Actions",
          "type": "array"
        }
      },
      "required": [
        "provider",
        "version"
      ],
      "title": "PluginManifest",
      "type": "object"
    },
    "RegexFileSelector": {
      "description": "Uses RegEx pattern to filter files",
      "properties": {
        "type": {
          "const": "pattern",
          "enum": [
            "pattern"
          ],
          "title": "Type",
          "type": "string"
        },
        "pattern": {
          "format": "regex",
          "title": "Pattern",
          "type": "string"
        },
        "mode": {
          "anyOf": [
            {
              "const": "full",
              "enum": [
                "full"
              ],
              "type": "string"
            },
            {
              "const": "search",
              "enum": [
                "search"
              ],
              "type": "string"
            }
          ],
          "default": "search",
          "description": "Regex mode. <br>\nsearch - part of path must match pattern.<br>\nfull - path must fully match pattern",
          "title": "Mode"
        }
      },
      "required": [
        "type",
        "pattern"
      ],
      "title": "RegexFileSelector",
      "type": "object"
    },
    "RegistryKey__file_selectors": {
      "enum": [
        "all",
        "simple-jar",
        "pattern"
      ],
      "type": "string"
    },
    "RegistryUnion__file_selectors": {
      "discriminator": {
        "mapping": {
          "all": "#/$defs/AllFilesSelector",
          "pattern": "#/$defs/RegexFileSelector",
          "simple-jar": "#/$defs/SimpleJarSelector"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/AllFilesSelector"
        },
        {
          "$ref": "#/$defs/SimpleJarSelector"
        },
        {
          "$ref": "#/$defs/RegexFileSelector"
        }
      ]
    },
    "RegistryUnion__providers": {
      "discriminator": {
        "mapping": {
          "github": "#/$defs/GithubReleasesProvider",
          "github-actions": "#/$defs/GithubActionsProvider",
          "jenkins": "#/$defs/JenkinsProvider",
          "modrinth": "#/$defs/ModrinthProvider",
          "url": "#/$defs/DirectUrlProvider"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/ModrinthProvider"
        },
        {
          "$ref": "#/$defs/GithubReleasesProvider"
        },
        {
          "$ref": "#/$defs/DirectUrlProvider"
        },
        {
          "$ref": "#/$defs/GithubActionsProvider"
        },
        {
          "$ref": "#/$defs/JenkinsProvider"
        }
      ]
    },
    "RenameFile": {
      "description": "Renames primary file",
      "properties": {
        "name": {
          "default": "",
          "title": "Name",
          "type": "string"
        },
        "if": {
          "default": "",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "rename",
          "enum": [
            "rename"
          ],
          "title": "Type",
          "type": "string"
        },
        "to": {
          "$ref": "#/$defs/TemplateExpr"
        }
      },
      "required": [
        "type",
        "to"
      ],
      "title": "RenameFile",
      "type": "object"
    },
    "SimpleJarSelector": {
      "properties": {
        "type": {
          "const": "simple-jar",
          "enum": [
            "simple-jar"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "title": "SimpleJarSelector",
      "type": "object"
    },
    "TemplateExpr": {
      "title": "TemplateExpr",
      "type": "string"
    },
    "UnzipFile": {
      "description": "Unzips primary file. Supports .zip",
      "properties": {
        "name": {
          "default": "",
          "title": "Name",
          "type": "string"
        },
        "if": {
          "default": "",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "unzip",
          "enum": [
            "unzip"
          ],
          "title": "Type",
          "type": "string"
        },
        "folder": {
          "$ref": "#/$defs/TemplateExpr",
          "default": ""
        }
      },
      "required": [
        "type"
      ],
      "title": "UnzipFile",
      "type": "object"
    },
    "VersionType": {
      "enum": [
        "release",
        "beta",
        "alpha"
      ],
      "title": "VersionType",
      "type": "string"
    }
  },
  "properties": {
    "mc_version": {
      "title": "Mc Version",
      "type": "string"
    },
    "core": {
      "discriminator": {
        "mapping": {
          "paper": "#/$defs/PaperCoreManifest"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/PaperCoreManifest"
        }
      ],
      "title": "Core"
    },
    "mods": {
      "default": [],
      "items": {
        "$ref": "#/$defs/ModManifest"
      },
      "title": "Mods",
      "type": "array"
    },
    "plugins": {
      "default": [],
      "items": {
        "$ref": "#/$defs/PluginManifest"
      },
      "title": "Plugins",
      "type": "array"
    },
    "datapacks": {
      "default": [],
      "items": {
        "$ref": "#/$defs/DatapackManifest"
      },
      "title": "Datapacks",
      "type": "array"
    },
    "customs": {
      "default": [],
      "items": {
        "$ref": "#/$defs/CustomManifest"
      },
      "title": "Customs",
      "type": "array"
    }
  },
  "required": [
    "mc_version",
    "core"
  ],
  "title": "Manifest",
  "type": "object"
}