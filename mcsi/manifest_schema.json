{
  "$defs": {
    "AllFilesSelector": {
      "properties": {
        "type": {
          "const": "all",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "title": "AllFilesSelector",
      "type": "object"
    },
    "BungeeCordCore": {
      "properties": {
        "file_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "File Name"
        },
        "type": {
          "const": "bungeecord",
          "title": "Type",
          "type": "string"
        },
        "build": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "const": "latest",
              "type": "string"
            }
          ],
          "title": "Build"
        }
      },
      "required": [
        "type",
        "build"
      ],
      "title": "BungeeCordCore",
      "type": "object"
    },
    "Channel": {
      "enum": [
        "ALPHA",
        "BETA",
        "STABLE",
        "RECOMMENDED"
      ],
      "title": "Channel",
      "type": "string"
    },
    "DirectUrlAsset": {
      "description": "Downloads asset from specified url",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selector",
              "title": "FileSelectorKey"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selector",
              "title": "FileSelectorUnion"
            }
          ],
          "default": "all",
          "description": "Selector used to choose files from multiple",
          "title": "File Selector"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "$ref": "#/$defs/RegistryUnion__action_model",
            "title": "ActionUnion"
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Used only in customs group",
          "title": "Folder"
        },
        "if": {
          "default": "",
          "description": "Conditions for asset to be processed. If falsy value is returned, asset is completely skipped",
          "title": "If",
          "type": "string"
        },
        "url": {
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Url",
          "type": "string"
        },
        "file_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "File Name"
        },
        "type": {
          "const": "url",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "url",
        "type"
      ],
      "title": "DirectUrlAsset",
      "type": "object"
    },
    "DummyAction": {
      "properties": {
        "name": {
          "default": "",
          "title": "Name",
          "type": "string"
        },
        "if": {
          "default": "",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "dummy",
          "title": "Type",
          "type": "string"
        },
        "expr": {
          "title": "Expr",
          "type": "string"
        }
      },
      "required": [
        "type",
        "expr"
      ],
      "title": "DummyAction",
      "type": "object"
    },
    "GithubActionsAsset": {
      "description": "Downloads artifact from github actions",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selector",
              "title": "FileSelectorKey"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selector",
              "title": "FileSelectorUnion"
            }
          ],
          "default": "simple-jar",
          "title": "File Selector"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "$ref": "#/$defs/RegistryUnion__action_model",
            "title": "ActionUnion"
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Used only in customs group",
          "title": "Folder"
        },
        "if": {
          "default": "",
          "description": "Conditions for asset to be processed. If falsy value is returned, asset is completely skipped",
          "title": "If",
          "type": "string"
        },
        "version": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "const": "latest",
              "type": "string"
            }
          ],
          "title": "Version"
        },
        "repository": {
          "title": "Repository",
          "type": "string"
        },
        "branch": {
          "default": "master",
          "title": "Branch",
          "type": "string"
        },
        "workflow": {
          "title": "Workflow",
          "type": "string"
        },
        "name_pattern": {
          "anyOf": [
            {
              "format": "regex",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "RegEx for artifact name. All artifacts is downloaded if not set",
          "title": "Name Pattern"
        },
        "type": {
          "const": "github-actions",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "version",
        "repository",
        "workflow",
        "type"
      ],
      "title": "GithubActionsAsset",
      "type": "object"
    },
    "GithubReleasesAsset": {
      "description": "Downloads asset from github",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selector",
              "title": "FileSelectorKey"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selector",
              "title": "FileSelectorUnion"
            }
          ],
          "default": "simple-jar",
          "title": "File Selector"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "$ref": "#/$defs/RegistryUnion__action_model",
            "title": "ActionUnion"
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Used only in customs group",
          "title": "Folder"
        },
        "if": {
          "default": "",
          "description": "Conditions for asset to be processed. If falsy value is returned, asset is completely skipped",
          "title": "If",
          "type": "string"
        },
        "version": {
          "anyOf": [
            {
              "const": "latest",
              "type": "string"
            },
            {
              "type": "string"
            }
          ],
          "title": "Version"
        },
        "repository": {
          "title": "Repository",
          "type": "string"
        },
        "type": {
          "const": "github",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "version",
        "repository",
        "type"
      ],
      "title": "GithubReleasesAsset",
      "type": "object"
    },
    "JenkinsAsset": {
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selector",
              "title": "FileSelectorKey"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selector",
              "title": "FileSelectorUnion"
            }
          ],
          "default": "simple-jar",
          "title": "File Selector"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "$ref": "#/$defs/RegistryUnion__action_model",
            "title": "ActionUnion"
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Used only in customs group",
          "title": "Folder"
        },
        "if": {
          "default": "",
          "description": "Conditions for asset to be processed. If falsy value is returned, asset is completely skipped",
          "title": "If",
          "type": "string"
        },
        "version": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "const": "latest",
              "type": "string"
            }
          ],
          "title": "Version"
        },
        "url": {
          "description": "URL to Jenkins instance",
          "format": "uri",
          "maxLength": 2083,
          "minLength": 1,
          "title": "Url",
          "type": "string"
        },
        "job": {
          "description": "Name of job",
          "title": "Job",
          "type": "string"
        },
        "type": {
          "const": "jenkins",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "version",
        "url",
        "job",
        "type"
      ],
      "title": "JenkinsAsset",
      "type": "object"
    },
    "ManifestMeta": {
      "description": "Information about this manifest",
      "properties": {
        "author": {
          "description": "Server author(s)",
          "title": "Author",
          "type": "string"
        },
        "version": {
          "default": "1.0.0",
          "description": "Server version",
          "title": "Version",
          "type": "string"
        },
        "description": {
          "default": "",
          "description": "Server description",
          "title": "Description",
          "type": "string"
        },
        "link": {
          "default": "",
          "description": "Link to server project page or author page",
          "title": "Link",
          "type": "string"
        }
      },
      "required": [
        "author"
      ],
      "title": "ManifestMeta",
      "type": "object"
    },
    "ModrinthAsset": {
      "description": "Downloads asset from modrinth",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selector",
              "title": "FileSelectorKey"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selector",
              "title": "FileSelectorUnion"
            }
          ],
          "default": "all",
          "description": "Selector used to choose files from multiple",
          "title": "File Selector"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "$ref": "#/$defs/RegistryUnion__action_model",
            "title": "ActionUnion"
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Used only in customs group",
          "title": "Folder"
        },
        "if": {
          "default": "",
          "description": "Conditions for asset to be processed. If falsy value is returned, asset is completely skipped",
          "title": "If",
          "type": "string"
        },
        "version": {
          "anyOf": [
            {
              "const": "latest",
              "type": "string"
            },
            {
              "type": "string"
            }
          ],
          "title": "Version"
        },
        "project_id": {
          "title": "Project Id",
          "type": "string"
        },
        "channel": {
          "anyOf": [
            {
              "$ref": "#/$defs/VersionType"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "If not set, then channel is ignored"
        },
        "version_is_id": {
          "default": false,
          "description": "If true, than version is consumed as version id",
          "title": "Version Is Id",
          "type": "boolean"
        },
        "version_name_pattern": {
          "anyOf": [
            {
              "format": "regex",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "RegEx for version name",
          "title": "Version Name Pattern"
        },
        "ignore_game_version": {
          "default": false,
          "title": "Ignore Game Version",
          "type": "boolean"
        },
        "type": {
          "const": "modrinth",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "version",
        "project_id",
        "type"
      ],
      "title": "ModrinthAsset",
      "type": "object"
    },
    "NoteAsset": {
      "description": "Asset that must manually be installed.<br>\nLogs a message after installation containing note",
      "properties": {
        "file_selector": {
          "anyOf": [
            {
              "$ref": "#/$defs/RegistryKey__file_selector",
              "title": "FileSelectorKey"
            },
            {
              "$ref": "#/$defs/RegistryUnion__file_selector",
              "title": "FileSelectorUnion"
            }
          ],
          "default": "all",
          "description": "Selector used to choose files from multiple",
          "title": "File Selector"
        },
        "asset_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Asset id override",
          "title": "Asset Id"
        },
        "caching": {
          "default": true,
          "title": "Caching",
          "type": "boolean"
        },
        "actions": {
          "default": [],
          "description": "List of actions to execute after download",
          "items": {
            "$ref": "#/$defs/RegistryUnion__action_model",
            "title": "ActionUnion"
          },
          "title": "Actions",
          "type": "array"
        },
        "folder": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Used only in customs group",
          "title": "Folder"
        },
        "if": {
          "default": "",
          "description": "Conditions for asset to be processed. If falsy value is returned, asset is completely skipped",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "note",
          "title": "Type",
          "type": "string"
        },
        "note": {
          "title": "Note",
          "type": "string"
        }
      },
      "required": [
        "type",
        "note"
      ],
      "title": "NoteAsset",
      "type": "object"
    },
    "PaperCoreManifest": {
      "properties": {
        "file_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "File Name"
        },
        "type": {
          "const": "paper",
          "title": "Type",
          "type": "string"
        },
        "build": {
          "anyOf": [
            {
              "$ref": "#/$defs/PaperLatestBuild"
            },
            {
              "type": "integer"
            }
          ],
          "title": "Build"
        },
        "channels": {
          "default": [],
          "items": {
            "$ref": "#/$defs/Channel"
          },
          "title": "Channels",
          "type": "array"
        }
      },
      "required": [
        "type",
        "build"
      ],
      "title": "PaperCoreManifest",
      "type": "object"
    },
    "PaperLatestBuild": {
      "enum": [
        "latest",
        "latest_stable"
      ],
      "title": "PaperLatestBuild",
      "type": "string"
    },
    "RegexFileSelector": {
      "description": "Uses RegEx pattern to filter files",
      "properties": {
        "type": {
          "const": "pattern",
          "title": "Type",
          "type": "string"
        },
        "pattern": {
          "format": "regex",
          "title": "Pattern",
          "type": "string"
        },
        "mode": {
          "anyOf": [
            {
              "const": "full",
              "type": "string"
            },
            {
              "const": "search",
              "type": "string"
            }
          ],
          "default": "search",
          "description": "Regex mode. <br>\nsearch - part of path must match pattern.<br>\nfull - path must fully match pattern",
          "title": "Mode"
        }
      },
      "required": [
        "type",
        "pattern"
      ],
      "title": "RegexFileSelector",
      "type": "object"
    },
    "RegistryKey__file_selector": {
      "enum": [
        "all",
        "simple-jar",
        "pattern"
      ],
      "type": "string"
    },
    "RegistryUnion__action_model": {
      "discriminator": {
        "mapping": {
          "dummy": "#/$defs/DummyAction",
          "rename": "#/$defs/RenameFile",
          "unzip": "#/$defs/UnzipFile"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/DummyAction"
        },
        {
          "$ref": "#/$defs/RenameFile"
        },
        {
          "$ref": "#/$defs/UnzipFile"
        }
      ]
    },
    "RegistryUnion__asset_model": {
      "discriminator": {
        "mapping": {
          "github": "#/$defs/GithubReleasesAsset",
          "github-actions": "#/$defs/GithubActionsAsset",
          "jenkins": "#/$defs/JenkinsAsset",
          "modrinth": "#/$defs/ModrinthAsset",
          "note": "#/$defs/NoteAsset",
          "url": "#/$defs/DirectUrlAsset"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/NoteAsset"
        },
        {
          "$ref": "#/$defs/DirectUrlAsset"
        },
        {
          "$ref": "#/$defs/ModrinthAsset"
        },
        {
          "$ref": "#/$defs/GithubActionsAsset"
        },
        {
          "$ref": "#/$defs/GithubReleasesAsset"
        },
        {
          "$ref": "#/$defs/JenkinsAsset"
        }
      ]
    },
    "RegistryUnion__core_model": {
      "discriminator": {
        "mapping": {
          "bungeecord": "#/$defs/BungeeCordCore",
          "paper": "#/$defs/PaperCoreManifest"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/PaperCoreManifest"
        },
        {
          "$ref": "#/$defs/BungeeCordCore"
        }
      ]
    },
    "RegistryUnion__file_selector": {
      "discriminator": {
        "mapping": {
          "all": "#/$defs/AllFilesSelector",
          "pattern": "#/$defs/RegexFileSelector",
          "simple-jar": "#/$defs/SimpleJarSelector"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/AllFilesSelector"
        },
        {
          "$ref": "#/$defs/SimpleJarSelector"
        },
        {
          "$ref": "#/$defs/RegexFileSelector"
        }
      ]
    },
    "RenameFile": {
      "description": "Renames primary file",
      "properties": {
        "name": {
          "default": "",
          "title": "Name",
          "type": "string"
        },
        "if": {
          "default": "",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "rename",
          "title": "Type",
          "type": "string"
        },
        "to": {
          "$ref": "#/$defs/TemplateExpr"
        }
      },
      "required": [
        "type",
        "to"
      ],
      "title": "RenameFile",
      "type": "object"
    },
    "SimpleJarSelector": {
      "properties": {
        "type": {
          "const": "simple-jar",
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "title": "SimpleJarSelector",
      "type": "object"
    },
    "TemplateExpr": {
      "title": "TemplateExpr",
      "type": "string"
    },
    "UnzipFile": {
      "description": "Unzips primary file. Supports .zip",
      "properties": {
        "name": {
          "default": "",
          "title": "Name",
          "type": "string"
        },
        "if": {
          "default": "",
          "title": "If",
          "type": "string"
        },
        "type": {
          "const": "unzip",
          "title": "Type",
          "type": "string"
        },
        "folder": {
          "$ref": "#/$defs/TemplateExpr",
          "default": ""
        }
      },
      "required": [
        "type"
      ],
      "title": "UnzipFile",
      "type": "object"
    },
    "VersionType": {
      "enum": [
        "release",
        "beta",
        "alpha"
      ],
      "title": "VersionType",
      "type": "string"
    }
  },
  "properties": {
    "version": {
      "default": "2.2.1-dev",
      "title": "Version",
      "type": "string"
    },
    "meta": {
      "$ref": "#/$defs/ManifestMeta"
    },
    "mc_version": {
      "title": "Mc Version",
      "type": "string"
    },
    "core": {
      "$ref": "#/$defs/RegistryUnion__core_model",
      "title": "Core"
    },
    "mods": {
      "default": [],
      "items": {
        "$ref": "#/$defs/RegistryUnion__asset_model",
        "title": "Asset"
      },
      "title": "Mods",
      "type": "array"
    },
    "plugins": {
      "default": [],
      "items": {
        "$ref": "#/$defs/RegistryUnion__asset_model",
        "title": "Asset"
      },
      "title": "Plugins",
      "type": "array"
    },
    "datapacks": {
      "default": [],
      "items": {
        "$ref": "#/$defs/RegistryUnion__asset_model",
        "title": "Asset"
      },
      "title": "Datapacks",
      "type": "array"
    },
    "customs": {
      "default": [],
      "items": {
        "$ref": "#/$defs/RegistryUnion__asset_model",
        "title": "Asset"
      },
      "title": "Customs",
      "type": "array"
    }
  },
  "required": [
    "meta",
    "mc_version",
    "core"
  ],
  "title": "Manifest",
  "type": "object"
}